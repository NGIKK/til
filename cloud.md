# AWS　クラウド学習
- VPCの構築（EC2利用）
- プライベートサブネット、パブリックサブネットの設定
- アラートの設定
- プライベートサブネットへのSSH接続（踏み台サーバ使用）
- IAM（Identity and Access Management）
- ディザスタリカバリについて
- Amazon Simple Storage Service（Amazon S3）

## 踏み台サーバを使用したプライベートサブネットへの接続方法
- cloud9にプライベートサブネットの秘密鍵をアップロード、任意のディレクトリへ移動させる
- 下記の手順で踏み台サーバへプライベートサブネットの秘密鍵をコピー
- enviromentディレクトリでscpコマンド(scp [オプション] コピー元 コピー先)
- オプション： -i ~/<ディレクトリ名>/<踏み台サーバの秘密鍵名>.pem（webサーバー（踏み台サーバ）にアクセスする）
- コピー元： ~/<ディレクトリ名>/<プライベートサブネットの秘密鍵名>.pem（ローカル（cloud9）上にあるプライベートサブネットの秘密鍵）
- コピー先： ec2-user@<踏み台サーバのパブリックIPアドレス>:~/（踏み台サーバーのhomeディレクトリにローカルにあるプライベートサブネットの秘密鍵コピー）
- 参考：https://zenn.dev/tanoken729/articles/f11e29a7ec2c6d

## EC2インスタンスとRDSのVPC移行
- EC2はAMIで既存のEC2インスタンスのコピーを行ってサブネットに構築
- RDSはサブネットグループの変更を行う
- この時、EC2を１から作成し直すと、既存のEC2で投稿（ActiveStrage利用）した画像ファイル自体は移行できず、参照情報だけが移行される。
- そのためアプリを起動すると画像が表示できず、404エラーが発生する。
